"use strict";$(function(){$("#regForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必须填写"},stringLength:{min:3,max:12,message:"用户名长度必须在3~12位之间"},regexp:{regexp:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含大写、小写、数字和下划线"},remote:{url:"api/mysqlVerify.php",message:"用户已存在",delay:10,type:"POST"}}},password:{message:"密码验证失败",validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,max:18,message:"密码长度必须在6~18位之间"}}},repeatPassword:{message:"确认密码验证失败",validators:{notEmpty:{message:"确认密码必须填写"},stringLength:{min:6,max:18,message:"确认密码长度必须在6~18位之间"},identical:{field:"password",message:"两次输入的密码不一致"}}},mobile:{message:"手机号码验证失败",validators:{notEmpty:{message:"手机号码必须填写"},regexp:{regexp:/^((1[358][0-9])|(14[57])|(17[0678])|(19[7]))\d{8}$/,message:"手机号码格式不正确"}}},email:{message:"电子邮件验证失败",validators:{notEmpty:{message:"电子邮件必须填写"},emailAddress:{message:"电子邮件格式不正确"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target).serialize();console.log(s),$.post("api/usersReg.php",s,function(e){$("#msgShowModal").modal("show"),$("#save").on("click",function(){location.href="./login.php"})},"json")})}),$(function(){$("#loginForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{userName:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必须填写"},stringLength:{min:3,max:12,message:"用户名长度必须在3~12位之间"}}},passWord:{message:"密码验证失败",validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,max:18,message:"密码长度必须在6~18位之间"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target);s.data("bootstrapValidator");$.post("/api/usersLogin.php",s.serialize(),function(e){if(e.isSuccess){$("#msgShowTitle").text("登录成功~~~"),$("#msgShowContent").html("<span class='glyphicon glyphicon-ok'></span> ".concat(e.msg,"，等待<span id\n                ='num'>6</span>秒后跳转到个人中心"));var s=6,a=setInterval(function(){s--,$("#num").text(s),0==s&&(clearInterval(a),location.href="./personal.php")},1e3)}else $("#msgShowTitle").text("登录失败~~~"),$("#msgShowContent").html("<span class='glyphicon glyphicon-remove'></span> ".concat(e.msg));$("#msgShowModal").modal("show")},"json")})});